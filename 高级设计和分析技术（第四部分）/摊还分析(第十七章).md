# 摊还分析

## 聚合分析

证明对所有n，一个n个操作的序列最坏情况下花费的总时间为$T(n)$。因此在最坏情况下，每个操作的平均代价（摊还代价）为$T(n)/n$。

## 核算法

对不同操作赋予不同费用，增加一个摊还代价。当一个操作的摊还代价超出其实际代价时，我们将差额存入数据结构中的特定对象，这个差额称为信用。
$$
\Sigma_{i=1}^nc_i^{'} \ge \Sigma_{i=1}^nc_i
$$
信用总和：
$$
\Sigma_{i=1}^nc_i^{'} - \Sigma_{i=1}^nc_i
$$

## 势能法

势能法对一个初始数据结构$D_0$执行$n$个操作，令$c_i$为实际代价。$\phi(D_i)$为$D_i$映射成的实数
$$
c_i^{'} = c_i+\phi(D_i)-\phi(D_{i-1})
$$
则摊还代价：
$$
\Sigma_{i=1}^nc_i^{'}=\Sigma_{i=1}^nc_i+\phi(D_n)-\phi(D_0)
$$
